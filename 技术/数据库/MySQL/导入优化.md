如果能够在mysql的server上执行命令行则用如下脚本。

```shell
# 导出数据
mysqldump -u zyroot -p'65Fqe5$M4!*&X5' \
  --tab=/tmp \
  --fields-terminated-by=',' \
  --fields-optionally-enclosed-by='"' \
  --lines-terminated-by='\n' \
  --single-transaction \
  lowcode_cook
```

```shell
#!/bin/bash
DB_NAME="your_db"
DUMP_DIR="/tmp"

mysql -u root -p --local-infile=1 "$DB_NAME" << EOF
SET FOREIGN_KEY_CHECKS=0;
SET UNIQUE_CHECKS=0;
SET AUTOCOMMIT=0;
EOF

for sql_file in $DUMP_DIR/*.sql; do
  table=$(basename "$sql_file" .sql)
  echo "导入表结构: $table"
  mysql -u root -p "$DB_NAME" < "$sql_file"
done

for txt_file in $DUMP_DIR/*.txt; do
  table=$(basename "$txt_file" .txt)
  echo "导入数据: $table"
  mysql -u root -p --local-infile=1 "$DB_NAME" << EOF
SET autocommit=0;
LOAD DATA LOCAL INFILE '$txt_file'
INTO TABLE $table
CHARACTER SET utf8mb4
FIELDS TERMINATED BY ','
OPTIONALLY ENCLOSED BY '"'
LINES TERMINATED BY '\n';
COMMIT;
EOF
done

mysql -u root -p "$DB_NAME" << EOF
SET FOREIGN_KEY_CHECKS=1;
SET UNIQUE_CHECKS=1;
EOF
```



否则用下边这个脚本。

```shell
# 普通导出整个库
mysqldump -u root -p db_name > db_name.sql

# 导入时关闭约束（在 mysql 客户端中执行）
SET FOREIGN_KEY_CHECKS=0;
SET UNIQUE_CHECKS=0;
SET AUTOCOMMIT=0;
source db_name.sql;
COMMIT;
SET FOREIGN_KEY_CHECKS=1;
SET UNIQUE_CHECKS=1;
```

