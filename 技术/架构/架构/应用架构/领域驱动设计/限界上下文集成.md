## 团队的协作方式

根据组织的协作方式，可划分为3种方式：

1. cooperation
2. customer-supplier（客户端供应商）
3. separate

针对每种协作方式都有不同的DDD模式用来做上下文之间的集成。



## cooperation

团队之间是合作的模式，一荣俱荣，一损俱损，通常可能是在同一个组织中的同一个团队，沟通非常顺畅的情况下。可以有两种DDD模式用来做上下文之间的集成：

### partnership

![image-20240406180930548](assets/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E9%9B%86%E6%88%90/image-20240406180930548.png)

### shared kernel

![image-20240406180943863](assets/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E9%9B%86%E6%88%90/image-20240406180943863.png)



## customer–supplier（客户端-供应商）

团队之间可以独立的获得成功，沟通成本较高，可以有一下3种模式：

### conformist（顺从者）

下游遵从上游的接口。例如：上游暴露出来的接口是一个行业标准。

![image-20240406180746481](assets/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E9%9B%86%E6%88%90/image-20240406180746481.png)

### anticorruption layer（防腐层）

下游不愿意遵守上游，他可以通过这个防腐层将上游的模型转换为自身的模型。

![image-20240406180910124](assets/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E9%9B%86%E6%88%90/image-20240406180910124.png)



### open-host service（开放主机服务）

上游将竭尽全力保持接口的稳定性，将模型的实现和接口进行解耦合，以提供给下游稳定的服务。

它旨在公开一种方便消费者的协议，**以面向集成的语言表达**。因此，公共协议称为*发布语言（published language）*。

![image-20240406181518544](assets/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E9%9B%86%E6%88%90/image-20240406181518544.png)

![image-20240406182022344](assets/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E9%9B%86%E6%88%90/image-20240406182022344.png)



## separate

分道扬镳，各干各的，跟别不需要集成。



## 上下文映射图

![image-20240406182942370](assets/%E9%99%90%E7%95%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E9%9B%86%E6%88%90/image-20240406182942370.png)